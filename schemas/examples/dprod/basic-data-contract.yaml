# ==============================================================================
# DPROD Example 1: Minimal Data Contract (Sales Data)
# ==============================================================================
# YAML equivalent of Example 1 from examples/dprod-translated.ttl
# Schema: schemas/adalbert-core.yaml
#
# DPROD original: dprod:DataContract with contractStatus Active, a single
# provider promise (deliverOnSchedule), and basic consumer access.
#
# Translation decisions:
#   dprod:DataContract           -> adalbert:DataContract
#   dprod:contractStatus Active  -> adalbert:state adalbert:Active
#   dprod:deliverOnSchedule      -> odrl:obligation + adalbert-due:deliver + recurrence
#   dprod:access (consumer)      -> odrl:permission + odrl:use
# ==============================================================================

schema: https://vocabulary.bigbank/adalbert/linkml/core

prefixes:
  odrl: "http://www.w3.org/ns/odrl/2/"
  adalbert: "https://vocabulary.bigbank/adalbert/"
  adalbert_due: "https://vocabulary.bigbank/adalbert/due/"
  ex: "https://example.com/"

parties:
  - id: "ex:sales-team"
    label: "Sales Data Team"

assets:
  - id: "ex:sales-data"
    label: "Sales Transaction Data"

type: DataContract
id: "ex:contract-sales-minimal"
label: "Sales Data Contract (Minimal)"
description: "Minimal data contract providing daily sales data access."
profile:
  - "https://vocabulary.bigbank/adalbert/"
  - "https://vocabulary.bigbank/adalbert/due/"
assigner: "ex:sales-team"
target: "ex:sales-data"
state: Active
effectiveDate: "2026-01-01T00:00:00Z"

obligation:

  # Provider duty: daily delivery at 08:00 with 1-hour window
  # DPROD: dprod:ProviderTimelinessPromise with FREQ=DAILY;BYHOUR=8
  - id: "ex:contract-sales-minimal/duties/daily-delivery"
    label: "Daily sales data delivery"
    subject: "ex:sales-team"
    action: "adalbert_due:deliver"
    recurrence: "FREQ=DAILY;BYHOUR=8;BYMINUTE=0"
    deadline: "PT1H"
    # target: inherited from policy (ex:sales-data)

permission:

  # Consumer permission: general use
  # DPROD: dprod:consumerPromise [ dprod:access ]
  - id: "ex:contract-sales-minimal/permissions/use"
    label: "Sales data access"
    action: "odrl:use"
